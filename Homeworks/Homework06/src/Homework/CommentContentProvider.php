<?php


namespace App\Homework;


class CommentContentProvider implements CommentContentProviderInterface
{

    /**
     * CommentContentProvider constructor.
     */

    public function get(string $word = null, int $wordsCount = 0): string
    {
        $content = [
            'Ясность нашей позиции очевидна: убеждённость некоторых оппонентов, в своём классическом представлении, *допускает внедрение форм воздействия*. В 
частности, начало повседневной работы по формированию позиции позволяет выполнить важные задания по разработке направлений прогрессивного развития.',
            'Предварительные выводы неутешительны: начало повседневной работы по формированию позиции не оставляет шанса для дальнейших направлений развития. 
Банальные, но неопровержимые выводы.',
            'Следует отметить, что постоянное информационно-пропагандистское обеспечение нашей деятельности играет важную роль в формировании поэтапного и последовательного развития общества.',
            'Приятно, граждане, наблюдать, как тщательные исследования конкурентов, инициированные исключительно синтетически, описаны максимально подробно. 
Независимые государства, вне зависимости от их уровня, должны быть разоблачены.',
            'Внезапно, явные признаки победы институционализации освещают чрезвычайно интересные особенности картины в целом, однако конкретные выводы, разумеется, 
объявлены нарушающими общечеловеческие нормы этики и морали.'
        ];

        $text = $content[rand(0, 4)];

        if (rand(0, 10) <= 7) {

            if ($word != null) {

                for ($i = 0; $i < $wordsCount; $i++) {
                    $text = substr_replace(
                        $text,
                        ' '.$word,
                        stripos($text, ' ', rand(0, iconv_strlen($text, 'UTF-8'))),
                        0
                    );
                }

            }

        }

        return $text;
    }
}